<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Pixelator - Free Online Pixel Art Tool | Multi-language</title>
    <meta name="description" content="Convert images to pixel art instantly in your browser! No upload required, pure frontend processing, free and privacy-friendly.">
    <meta name="keywords" content="Image Pixelator, Pixel Art Generator Online, Convert Image to Pixel Art Free">
    
    <!-- Language alternatives -->
    <link rel="alternate" hreflang="en" href="/en/">
    <link rel="alternate" hreflang="zh" href="/zh/">
    <link rel="alternate" hreflang="es" href="/es/">
    
    <link rel="stylesheet" href="/src/styles/main.css">
</head>
<body class="bg-gray-50 min-h-screen">
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <h1 class="text-2xl font-bold text-gray-900" data-i18n="title">Image Pixelator</h1>
                <div class="language-selector">
                    <select id="languageSelect" class="border rounded px-3 py-1">
                        <option value="en" selected>ðŸ‡ºðŸ‡¸ English</option>
                        <option value="zh">ðŸ‡¨ðŸ‡³ ä¸­æ–‡</option>
                        <option value="es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Privacy Notice -->
        <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-8">
            <p class="text-green-800 text-sm" data-i18n="privacy-notice">
                ðŸ”’ All processing happens in your browser. Images never leave your device. Data is cleared when you close the page.
            </p>
        </div>

        <!-- Upload Section -->
        <section class="bg-white rounded-lg shadow-sm border p-6 mb-8">
            <h2 class="text-xl font-semibold mb-4" data-i18n="upload-title">Upload Image</h2>
            
            <div id="dropZone" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors cursor-pointer">
                <div id="uploadPrompt">
                    <svg class="mx-auto h-12 w-12 text-gray-400 mb-4" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                        <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    <p class="text-lg text-gray-600 mb-2" data-i18n="upload-prompt">Click to upload or drag image here</p>
                    <p class="text-sm text-gray-500" data-i18n="upload-limits">Supports JPG, PNG, WebP â€¢ Max 20MB â€¢ Recommended â‰¤10MB</p>
                </div>
                <input type="file" id="imageInput" accept="image/*" class="hidden">
            </div>
        </section>

        <!-- Processing Section -->
        <div id="processingSection">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Controls -->
                <section class="bg-white rounded-lg shadow-sm border p-6">
                    <h2 class="text-xl font-semibold mb-4" data-i18n="controls-title">Pixelation Settings</h2>
                    
                    <!-- Pixel Size -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="pixel-size">Pixel Size</label>
                        <div class="flex items-center space-x-4">
                            <input type="range" id="pixelSize" min="1" max="50" value="8" class="flex-1">
                            <span id="pixelSizeValue" class="text-sm font-mono bg-gray-100 px-2 py-1 rounded">8px</span>
                        </div>
                    </div>

                    <!-- Color Mode -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="color-mode">Color Mode</label>
                        <select id="colorMode" class="w-full border rounded px-3 py-2">
                            <option value="original" data-i18n="color-original">Original Colors</option>
                            <option value="retro" data-i18n="color-retro">Retro 8-bit</option>
                            <option value="grayscale" data-i18n="color-grayscale">Grayscale</option>
                            <option value="sepia" data-i18n="color-sepia">Sepia Tone</option>
                            <option value="vibrant" data-i18n="color-vibrant">Vibrant Colors</option>
                        </select>
                    </div>

                    <!-- Edge Processing -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="edge-processing">Edge Processing</label>
                        <select id="edgeMode" class="w-full border rounded px-3 py-2">
                            <option value="hard" data-i18n="edge-hard">Hard Edges</option>
                            <option value="soft" data-i18n="edge-soft">Soft Edges</option>
                        </select>
                    </div>

                    <!-- Presets -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="presets">Quick Presets</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button class="preset-btn px-3 py-2 text-sm border rounded hover:bg-gray-50 transition-colors" data-preset="game" data-i18n="preset-game">8-bit Game Style</button>
                            <button class="preset-btn px-3 py-2 text-sm border rounded hover:bg-gray-50 transition-colors" data-preset="arcade" data-i18n="preset-arcade">Arcade Retro</button>
                            <button class="preset-btn px-3 py-2 text-sm border rounded hover:bg-gray-50 transition-colors" data-preset="avatar" data-i18n="preset-avatar">Low-pixel Avatar</button>
                            <button class="preset-btn px-3 py-2 text-sm border rounded hover:bg-gray-50 transition-colors" data-preset="minecraft" data-i18n="preset-minecraft">Minecraft Style</button>
                            <button class="preset-btn px-3 py-2 text-sm border rounded hover:bg-gray-50 transition-colors" data-preset="mosaic" data-i18n="preset-mosaic">Mosaic Art</button>
                            <button class="preset-btn px-3 py-2 text-sm border rounded hover:bg-gray-50 transition-colors" data-preset="vintage" data-i18n="preset-vintage">Vintage Effect</button>
                        </div>
                    </div>

                    <!-- Download -->
                    <div class="border-t pt-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2" data-i18n="download-format">Download Format</label>
                        <select id="downloadFormat" class="w-full border rounded px-3 py-2 mb-4">
                            <option value="png">PNG (Transparent)</option>
                            <option value="jpg">JPG (Compressed)</option>
                            <option value="webp">WebP (Efficient)</option>
                        </select>
                        <button id="downloadBtn" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50" disabled data-i18n="download-btn">Download Pixelated Image</button>
                        <p class="text-xs text-gray-500 mt-2 text-center" data-i18n="upload-first-hint">Upload an image to enable download</p>
                    </div>
                </section>

                <!-- Preview -->
                <section class="lg:col-span-2 bg-white rounded-lg shadow-sm border p-6">
                    <h2 class="text-xl font-semibold mb-4" data-i18n="preview-title">Preview</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Original -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-700 mb-2" data-i18n="original-image">Original Image</h3>
                            <div class="border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 relative h-64 flex items-center justify-center">
                                <canvas id="originalCanvas" class="max-w-full h-auto cursor-pointer hidden"></canvas>
                                <div id="originalPlaceholder" class="text-center text-gray-400">
                                    <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <p class="text-sm" data-i18n="no-image-uploaded">No image uploaded</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Pixelated -->
                        <div>
                            <h3 class="text-sm font-medium text-gray-700 mb-2" data-i18n="pixelated-image">Pixelated Result</h3>
                            <div class="border-2 border-dashed border-gray-200 rounded-lg bg-gray-50 relative h-64 flex items-center justify-center">
                                <canvas id="pixelatedCanvas" class="max-w-full h-auto cursor-pointer hidden"></canvas>
                                <div id="pixelatedPlaceholder" class="text-center text-gray-400">
                                    <svg class="w-12 h-12 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                                    </svg>
                                    <p class="text-sm" data-i18n="pixelated-preview">Pixelated preview will appear here</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <script type="module" src="/src/main.js"></script>
</body>
</html>